Rem ****************************************************
Rem ***                     GAME                     ***
Rem ***    My battery is low and it's getting dark   ***
Rem ***                                              ***
Rem ***               by Alice Massart               ***
Rem ***                 ESAD ORLEANS                 ***
Rem ***               3e annee DVG DAD               ***
Rem ***                                              ***
Rem ***                Decembre 2025                 ***
Rem ****************************************************
Rem ***                                              ***
Rem ***                 AMOS Pro 2.0                 ***
Rem ***            Realise pour Amiga 500+           ***
Rem ****************************************************

Rem **************************
Rem *** Variables globales ***
Rem **************************

Global RoverX,RoverY,ImageID

RoverX = 50
RoverY = 50
ImageID = 2

Rem **************************
Rem *** Parametres de base ***
Rem **************************

Screen Open 0,320,200,16,Lowres
Curs Off
Flash Off
Cls 0
Hide On

Rem **********************************
Rem ***       Decors de fond       ***
Rem **********************************

Rem **************************
Rem ***       Player       ***
Rem **************************
Set Sprite Buffer 256

Rem --- Palette BOB personnalisee ---
Get Sprite Palette 0
Colour 0,$FA3
Colour 1,$EEE
Colour 2,$CCC
Colour 3,$999
Colour 4,$666
Colour 5,$333
Colour 6,$640
Colour 7,$C80
Colour 8,$960
Colour 9,$FB4
Colour 10,$000
Colour 11,$000
Colour 12,$000
Colour 14,$000
Colour 15,$000

Rem --- Affiche le BOB hardware numero 1 ---
Bob 1,RoverX,RoverY,ImageID

Rem **************************************
Rem ***       Objets Ã  decouvrir       ***
Rem **************************************

Bob 3,200,50,3
Rem Bob 4,50,5,6

Rem **************************
Rem *** Boucle principale  ***
Rem **************************

While 1
    Wait Vbl

    Bob Update Off
    Rem --- Detection de collision ---
    SC=Sprite Col(1)
    If SC=-1
        Print "Collision detected!"
    End If 

    Rem --- Deplacement du rover ---
    If Key State(79) : RoverX = RoverX - 2 : ImageID = 2
    Else If Key State(78) : RoverX = RoverX + 2 : ImageID = 1
    Else If Key State(76) : RoverY = RoverY - 2
    Else If Key State(77) : RoverY = RoverY + 2
    Else If Key State(69) : End
    End If

    Rem --- Repositionne le rover ---
    Bob 1,RoverX,RoverY,ImageID
    Bob Update

Wend

End
