Rem ************************************
Rem *** Variables globales
Rem ************************************
Global G_Position_X,G_Position_Y,Image_ID

Procedure IMPORT_ROVER_SPRITES

   Rem --- écran temporaire ---
   Screen Open 1,640,256,16,Lowres
   Screen 1
   Curs Off : Flash Off
   Set Sprite Buffer 256

   Load Iff "img/rover_pixelart_exp.iff"

   Rem --- Capture sprite ---
   Get Sprite 1,200,100 To 216,116

   Rem --- Palette SPRITE (16-31) ---
   Colour 16,$E66   Rem e6e6e6
   Colour 17,$D44   Rem d4d4d4
   Colour 18,$A11   Rem a1a1a1
   Colour 19,$788   Rem 787878
   Colour 20,$1D1   Rem 1d1d1d
   Colour 21,$544   Rem 545454

   Rem --- reste inutilisé ---
   Colour 22,$000 : Colour 23,$000
   Colour 24,$000 : Colour 25,$000
   Colour 26,$000 : Colour 27,$000
   Colour 28,$000 : Colour 29,$000
   Colour 30,$000 : Colour 31,$000

   Screen Close 1

End Proc

Rem ************************************
Rem *** Écran principal
Rem ************************************
Screen Open 0,320,200,16,Lowres
Screen 0
Hide On

Rem --- Fond ORANGE AMOS ---
Colour 0,$F80

G_Position_X=160
G_Position_Y=100
Image_ID=1

IMPORT_ROVER_SPRITES

Do
   P_CLAVIER
   Sprite 12,G_Position_X,G_Position_Y,Image_ID
   Wait Vbl
Loop

Procedure P_CLAVIER
   If Key State(76) : G_Position_Y=G_Position_Y-2
   Else If Key State(77) : G_Position_Y=G_Position_Y+2
   Else If Key State(79) : G_Position_X=G_Position_X-2
   Else If Key State(78) : G_Position_X=G_Position_X+2
   Else If Key State(69) : End
   End If
End Proc
